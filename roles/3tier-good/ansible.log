
PLAY [jumpbox] ********************************************************************************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************************************************************************
ok: [workstation]

TASK [osp-facts : Fetch Instance Info] ********************************************************************************************************************************************************
ok: [workstation]

TASK [osp-facts : Add host] *******************************************************************************************************************************************************************
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:f9:d5:da', u'version': 4, u'addr': u'20.20.20.9', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:f9:d5:da', u'version': 4, u'addr': u'10.10.10.12', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:48:50.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.12', u'instance_name': u'instance-00000004', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:48:49Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'frontend', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:48:36Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000004', u'az': u'nova', u'id': u'51b5754b-df51-4441-b5da-57cc1714b416', u'security_groups': [{u'name': u'frontend'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.12', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:48:50.000000', u'metadata': {u'group': u'frontends', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.12', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp00.example.com', u'private_v4': u'20.20.20.9', u'host': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000004', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:48:50.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:48:36Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:77:43:d1', u'version': 4, u'addr': u'20.20.20.5', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:77:43:d1', u'version': 4, u'addr': u'10.10.10.4', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:44:25.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.4', u'instance_name': u'instance-00000003', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:44:24Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'db', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:44:11Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000003', u'az': u'nova', u'id': u'1a59c72c-3fc5-4658-aa0d-8c7f0f89d218', u'security_groups': [{u'name': u'db'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.4', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:44:25.000000', u'metadata': {u'group': u'appdbs', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.4', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp01.example.com', u'private_v4': u'20.20.20.5', u'host': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000003', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:44:25.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:44:11Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:83:01:0e', u'version': 4, u'addr': u'20.20.20.4', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:83:01:0e', u'version': 4, u'addr': u'10.10.10.7', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:39:54.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.7', u'instance_name': u'instance-00000002', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:39:52Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'app2', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:39:02Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000002', u'az': u'nova', u'id': u'5b2e348b-d0cc-444b-98dd-b2a6cb529ff0', u'security_groups': [{u'name': u'apps'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.7', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:39:54.000000', u'metadata': {u'group': u'apps', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.7', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp00.example.com', u'private_v4': u'20.20.20.4', u'host': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000002', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:39:54.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:39:02Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:58:b8:1e', u'version': 4, u'addr': u'20.20.20.12', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:58:b8:1e', u'version': 4, u'addr': u'10.10.10.9', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:24:10.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.9', u'instance_name': u'instance-00000001', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:24:09Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'app1', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:23:18Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000001', u'az': u'nova', u'id': u'8952e7e4-f07f-4378-b1eb-7d0829325c23', u'security_groups': [{u'name': u'apps'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.9', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:24:10.000000', u'metadata': {u'group': u'apps', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.9', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp01.example.com', u'private_v4': u'20.20.20.12', u'host': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000001', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:24:10.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:23:18Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})

TASK [osp-facts : Add host] *******************************************************************************************************************************************************************
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:f9:d5:da', u'version': 4, u'addr': u'20.20.20.9', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:f9:d5:da', u'version': 4, u'addr': u'10.10.10.12', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:48:50.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.12', u'instance_name': u'instance-00000004', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:48:49Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'frontend', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:48:36Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000004', u'az': u'nova', u'id': u'51b5754b-df51-4441-b5da-57cc1714b416', u'security_groups': [{u'name': u'frontend'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.12', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:48:50.000000', u'metadata': {u'group': u'frontends', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.12', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp00.example.com', u'private_v4': u'20.20.20.9', u'host': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000004', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:48:50.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:48:36Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:77:43:d1', u'version': 4, u'addr': u'20.20.20.5', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:77:43:d1', u'version': 4, u'addr': u'10.10.10.4', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:44:25.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.4', u'instance_name': u'instance-00000003', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:44:24Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'db', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:44:11Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000003', u'az': u'nova', u'id': u'1a59c72c-3fc5-4658-aa0d-8c7f0f89d218', u'security_groups': [{u'name': u'db'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.4', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:44:25.000000', u'metadata': {u'group': u'appdbs', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.4', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp01.example.com', u'private_v4': u'20.20.20.5', u'host': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000003', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:44:25.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:44:11Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:83:01:0e', u'version': 4, u'addr': u'20.20.20.4', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:83:01:0e', u'version': 4, u'addr': u'10.10.10.7', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:39:54.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.7', u'instance_name': u'instance-00000002', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:39:52Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'app2', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:39:02Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000002', u'az': u'nova', u'id': u'5b2e348b-d0cc-444b-98dd-b2a6cb529ff0', u'security_groups': [{u'name': u'apps'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.7', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:39:54.000000', u'metadata': {u'group': u'apps', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'59b9f8bf3d22d1ecfa16e52e12ed870bad9a96c86298184f00241e5a', u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.7', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp00.example.com', u'private_v4': u'20.20.20.4', u'host': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp00.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000002', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:39:54.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp00.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:39:02Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})
changed: [workstation] => (item={u'vm_state': u'active', u'OS-EXT-STS:task_state': None, u'addresses': {u'int_network': [{u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:58:b8:1e', u'version': 4, u'addr': u'20.20.20.12', u'OS-EXT-IPS:type': u'fixed'}, {u'OS-EXT-IPS-MAC:mac_addr': u'fa:16:3e:58:b8:1e', u'version': 4, u'addr': u'10.10.10.9', u'OS-EXT-IPS:type': u'floating'}]}, u'image': {u'id': u'58833687-ba2a-4f1e-afd0-793e127e07e4'}, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:24:10.000000', u'flavor': {u'id': u'db5e453f-f4f9-45bb-8222-539d443b6069'}, u'reservation_id': None, u'networks': {}, u'cloud': u'ospcloud', u'scheduler_hints': None, u'user_id': u'97656d07875c40b38805582946989e49', u'location': {u'project': {u'domain_name': None, u'domain_id': None, u'name': u'admin', u'id': u'1e3aa106a2f94e93bb328f6bebe8b965'}, u'cloud': u'ospcloud', u'region_name': u'RegionOne', u'zone': u'nova'}, u'power_state': 1, u'interface_ip': u'10.10.10.9', u'instance_name': u'instance-00000001', u'personality': None, u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'updated': u'2019-10-03T03:24:09Z', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'key_name': u'ansible_ssh', u'disk_config': u'MANUAL', u'host_id': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'project_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'locked': None, u'name': u'app1', u'adminPass': None, u'launch_index': None, u'host_status': None, u'config_drive': u'', u'created_at': u'2019-10-03T03:23:18Z', u'server_groups': None, u'terminated_at': None, u'ramdisk_id': None, u'user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000001', u'az': u'nova', u'id': u'8952e7e4-f07f-4378-b1eb-7d0829325c23', u'security_groups': [{u'name': u'apps'}], u'os-extended-volumes:volumes_attached': [], u'OS-EXT-SRV-ATTR:hostname': None, u'hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'accessIPv4': u'10.10.10.9', u'accessIPv6': u'', u'OS-SCH-HNT:scheduler_hints': None, u'progress': 0, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova', u'launched_at': u'2019-10-03T03:24:10.000000', u'metadata': {u'group': u'apps', u'deployment_name': u'QA'}, u'status': u'ACTIVE', u'hostId': u'b3aa7068069c188c8861a9add78f3de5e78d5181e211b8018415dd80', u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'description': None, u'tags': [], u'kernel_id': None, u'public_v4': u'10.10.10.9', u'block_device_mapping': None, u'public_v6': u'', u'hypervisor_hostname': u'comp01.example.com', u'private_v4': u'20.20.20.12', u'host': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'task_state': None, u'properties': {u'OS-EXT-SRV-ATTR:ramdisk_id': None, u'OS-EXT-STS:task_state': None, u'OS-EXT-SRV-ATTR:host': u'comp01.example.com', u'OS-SRV-USG:terminated_at': None, u'OS-EXT-SRV-ATTR:reservation_id': None, u'OS-EXT-SRV-ATTR:user_data': None, u'OS-EXT-STS:vm_state': u'active', u'OS-EXT-SRV-ATTR:instance_name': u'instance-00000001', u'OS-EXT-SRV-ATTR:root_device_name': None, u'OS-SRV-USG:launched_at': u'2019-10-03T03:24:10.000000', u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:kernel_id': None, u'host_status': None, u'locked': None, u'OS-EXT-SRV-ATTR:launch_index': None, u'OS-EXT-SRV-ATTR:hostname': None, u'OS-DCF:diskConfig': u'MANUAL', u'os-extended-volumes:volumes_attached': [], u'trusted_image_certificates': None, u'OS-SCH-HNT:scheduler_hints': None, u'OS-EXT-STS:power_state': 1, u'OS-EXT-AZ:availability_zone': u'nova'}, u'OS-EXT-SRV-ATTR:hypervisor_hostname': u'comp01.example.com', u'OS-EXT-SRV-ATTR:launch_index': None, u'created': u'2019-10-03T03:23:18Z', u'tenant_id': u'1e3aa106a2f94e93bb328f6bebe8b965', u'region': u'RegionOne', u'has_config_drive': False, u'trusted_image_certificates': None, u'root_device_name': None, u'volumes': []})

PLAY [setup load-balancer tier] ***************************************************************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************************************************************************
ok: [10.10.10.12]

TASK [base-config : enable repos] *************************************************************************************************************************************************************
ok: [10.10.10.12]

TASK [base-config : install base tools and packages] ******************************************************************************************************************************************
ok: [10.10.10.12] => (item=[u'httpie', u'python-pip'])

TASK [lb-tier : install haproxy] **************************************************************************************************************************************************************
ok: [10.10.10.12]

TASK [lb-tier : enable haproxy at boot] *******************************************************************************************************************************************************
ok: [10.10.10.12]

TASK [lb-tier : configure haproxy to load balance over app servers] ***************************************************************************************************************************
ok: [10.10.10.12]

TASK [lb-tier : start haproxy] ****************************************************************************************************************************************************************
changed: [10.10.10.12]

PLAY [setup app tier] *************************************************************************************************************************************************************************

TASK [base-config : enable repos] *************************************************************************************************************************************************************
ok: [10.10.10.9]
ok: [10.10.10.7]

TASK [base-config : install base tools and packages] ******************************************************************************************************************************************
ok: [10.10.10.7] => (item=[u'httpie', u'python-pip'])
ok: [10.10.10.9] => (item=[u'httpie', u'python-pip'])

TASK [app-tier : install tomcat] **************************************************************************************************************************************************************
ok: [10.10.10.9]
ok: [10.10.10.7]

TASK [app-tier : enable tomcat at boot] *******************************************************************************************************************************************************
ok: [10.10.10.7]
ok: [10.10.10.9]

TASK [app-tier : create tomcat default web directory] *****************************************************************************************************************************************
ok: [10.10.10.7]
ok: [10.10.10.9]

TASK [app-tier : copy static index.html to tomcat webroot] ************************************************************************************************************************************
ok: [10.10.10.7]
ok: [10.10.10.9]

TASK [app-tier : restart tomcat] **************************************************************************************************************************************************************
changed: [10.10.10.9]
changed: [10.10.10.7]

PLAY [setup database tier] ********************************************************************************************************************************************************************

TASK [Gathering Facts] ************************************************************************************************************************************************************************
ok: [10.10.10.4]

TASK [base-config : enable repos] *************************************************************************************************************************************************************
ok: [10.10.10.4]

TASK [base-config : install base tools and packages] ******************************************************************************************************************************************
ok: [10.10.10.4] => (item=[u'httpie', u'python-pip'])

TASK [geerlingguy.postgresql : include] *******************************************************************************************************************************************************
included: /home/nattapong.p-dcs.premier.co.th/openstack/roles/3tier-good/roles/geerlingguy.postgresql/tasks/variables.yml for 10.10.10.4

TASK [geerlingguy.postgresql : Include OS-specific variables (Debian).] ***********************************************************************************************************************
skipping: [10.10.10.4]

TASK [geerlingguy.postgresql : Include OS-specific variables (RedHat).] ***********************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_packages.] ***********************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_daemon.] *************************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_version.] ************************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_data_dir.] ***********************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_bin_path.] ***********************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Define postgresql_config_path.] ********************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : include] *******************************************************************************************************************************************************
included: /home/nattapong.p-dcs.premier.co.th/openstack/roles/3tier-good/roles/geerlingguy.postgresql/tasks/setup-RedHat.yml for 10.10.10.4

TASK [geerlingguy.postgresql : Ensure PostgreSQL packages are installed.] *********************************************************************************************************************
ok: [10.10.10.4] => (item=postgresql)
ok: [10.10.10.4] => (item=postgresql-server)
ok: [10.10.10.4] => (item=postgresql-contrib)
ok: [10.10.10.4] => (item=postgresql-libs)

TASK [geerlingguy.postgresql : Ensure PostgreSQL Python libraries are installed.] *************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : include] *******************************************************************************************************************************************************
skipping: [10.10.10.4]

TASK [geerlingguy.postgresql : Set PostgreSQL environment variables.] *************************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Ensure PostgreSQL data directory exists.] **********************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Check if PostgreSQL database is initialized.] ******************************************************************************************************************
ok: [10.10.10.4]

TASK [geerlingguy.postgresql : Ensure PostgreSQL database is initialized.] ********************************************************************************************************************
fatal: [10.10.10.4]: FAILED! => {"changed": false, "module_stderr": "sudo: sorry, you must have a tty to run sudo\n", "module_stdout": "", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 1}

PLAY RECAP ************************************************************************************************************************************************************************************
10.10.10.12                : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
10.10.10.4                 : ok=17   changed=0    unreachable=0    failed=1    skipped=2    rescued=0    ignored=0   
10.10.10.7                 : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
10.10.10.9                 : ok=7    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
workstation                : ok=4    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

